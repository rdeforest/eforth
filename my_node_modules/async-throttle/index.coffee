###

                       *** WARNING ***

             Combining this with yield() could have
             unintended and unwanted consequences.

                       *** WARNING ***

Usage:

    AsyncThrottle = require 'async-throttle'

    myAWS   = require 'aws-wrapper'

    myQueue = new AsyncThrottle 2 # up to two calls at a time

    myIAM   = myAWS(accountId).IAM

    myIAM 'listUsers'
      .then ({Users}) ->
        myCallTrackers =
          for u in Users
            myQueue.queue -> (new User u).init()

Or for brevity:

    q = myQueue.makeQueueFn()

    myIAM('listUsers').then ({Users}) ->
      myCallTrackers = q(-> (new User u).init()) for u in Users

###

module.exports = require 'throttle'
